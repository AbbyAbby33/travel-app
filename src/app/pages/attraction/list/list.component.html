<h2>æ™¯é»åˆ—è¡¨</h2>

<div class="filter-group">
  <label for="category-select" class="filter-label">é¸æ“‡åˆ†é¡</label>
  <select id="category-select" class="filter-select" [(ngModel)]="selectedCategory"
    (change)="onCategoryChange(selectedCategory)">
    @for (category of categories; track $index) {
    <option [value]="category.id">
      {{ category.name }}
    </option>
    }
  </select>
</div>

<span class="result-count">å…± {{ totalCount }} å€‹æ™¯é»</span>

@if (loading) {
<!-- è¼‰å…¥ä¸­ -->
<div class="loading">
  <div class="spinner"></div>
  <p>è¼‰å…¥ä¸­...</p>
</div>
} @else {
<!-- åˆ—è¡¨ -->
<div class="attractions-list">
  @for (attraction of attractions; track attraction.id) {

  <div class="attractions-card">

    <!-- åœ–ç‰‡ -->
    @if(attraction.images && attraction.images.length > 0) {
    <div class="card-image">
      <img [src]="attraction.images[0].src" [alt]="attraction.name">
    </div>
    }

    <!-- å…§å®¹ -->
    <div class="card-content">
      <h3 class="card-title">{{ attraction.name }}</h3>

      <p class="card-description">
        {{ attraction.introduction?.slice(0, 100) }}{{ attraction.introduction!.length > 100 ? '...' : '' }}
      </p>

      <div class="card-info">
        <div class="info-item">
          <span class="info-icon" aria-hidden="true">ğŸ“</span>
          <span class="info-text">{{ attraction.address }}</span>
        </div>

        <div class="info-item">
          <span class="info-icon" aria-hidden="true">ğŸ“</span>
          <span class="info-text">{{ attraction.tel }}</span>
        </div>
      </div>

    </div>
  </div>

  } @empty {
  <!-- ç„¡è³‡æ–™ -->
  <div class="no-data">
    <p>æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„æ™¯é»</p>
  </div>
  }
</div>
}